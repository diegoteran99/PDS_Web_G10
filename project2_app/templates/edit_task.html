<html><head>
  <!-- USE DEVELOPMENT VERSION -->
  <script src="https://cdn.rawgit.com/konvajs/konva/2.0.3/konva.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
  <meta charset="utf-8">
  {% load static %}
  <link rel="stylesheet" href="{% static 'css/base.css' %}"/>

  <title>Proyecto de Desarrollo de Sotfware - Proyecto 2</title>
</head>

<body>
  
  <div id="topbar">
    <div>
      <h1 style="text-decoration: underline;">
        <img src="{% static '/images/logouandes.png' %}" width="168"
        height="67">
        Intelligent Tutoring System - Estatica
      </h1>
    </div>
    <div class="d-flex justify-content-center" style="margin-left: 1rem;">
      <button class="btn btn-primary" type="button" onclick="location.href='{% url 'tasks'  %}'">
          Ir a Tareas
      </button>
  </div>
    <div>
      <h3> &nbsp Dibuje un DCL</h3>
      <p> &nbsp * Para editar el texto o el valor de la carga haga doble click sobre ella y para guardar
        el cambio presione Enter
      </p>
      <p> &nbsp * Para borrar un elemento hacer dobleclick sobre el
      </p>
      <p> &nbsp * Para que se haga efectivo el cambio de algun valor se debe mover
      </p>
    </div>
    <div style="margin-left: 1rem;">
        <textarea class="form-control" id="description-text" name="text" data-task_id='{{task.id}}' placeholder="Inserte enunciado de la tarea" rows="5">{{task.description}}</textarea>
    </div>
    <div>
      <form action="" method = "POST" enctype="multipart/form-data"> 
        {% csrf_token %} 
        {{ form.as_table }} 
        <button type="submit"style="margin-left: 1rem; margin-top: 1rem;">Upload</button> 
    </form> 

    </div>
  <div>
    {% if task.image %}
    <img src="{{task.image.url}}" style="height: 400; margin-left: 1rem; margin-bottom: 1rem; border: 1px solid black;">
    {%endif%}
  </div>
    <br>
    <div style="margin-bottom: 1rem; margin-left: 1rem;">
      <button id="btnCreateLine" class="btn-primary-blue">Agregar viga</button>
      <div style="display: inline-grid;">
        <button id="btnCreatePinnedSupport" class="btn-primary-blue">Agregar apoyo estático</button> 
        <button id="btnCreatePinnedSupport90" class="btn-primary-blue">→</button> 
        <button id="btnCreatePinnedSupport-90" class="btn-primary-blue">←</button> 
      </div>
      <div style="display: inline-grid;">
        <button id="btnCreateRollingSupport" class="btn-primary-blue">Agregar apoyo deslizante</button> 
        <button id="btnCreateRollingSupport90" class="btn-primary-blue">→</button> 
        <button id="btnCreateRollingSupport-90" class="btn-primary-blue">←</button> 
      </div>
      <button id="btnCreateArrow" class="btn-primary-blue">Agregar carga puntual </button>
      <button id="btnCreateArrow2" class="btn-primary-blue">Agregar fuerza de carga </button>
      <button id="btnCreatePoints" class="btn-primary-blue">Agregar punto </button>
      <button id="btnCreateCurvedArrow" class="btn-primary-blue">Agregar momento </button>
      <button id="btnSaveCanvas" class="btn-primary-blue" data-task_id='{{task.id}}'>Guardar </button>
      
    </div>
    
  </div>

  <div id="container">
    <div class="konvajs-content" role="presentation" style="position: relative; width: 1280px; height: 1313px;">
      <canvas width="2560" height="2626" style="padding: 0px; margin: 0px; border: 0px; background-color: transparent; position: absolute; top: 0px; left: 0px; width: 1280px; height: 1313px; background-position: initial initial; background-repeat: initial initial;">
      </canvas>
    </div>
  </div>


  {% block js_script %}
    <script> jsonkonva = "{{ task.dcl }}";</script>
    <script src="{% static '/js/base1.js' %}"></script>
    <script src="{% static 'js/edit_task.js' %}"></script>
  {% endblock %}
</body></html>
